{"pageProps":{"note":{"id":"ytfs18osddd01wh6njq1p2v","title":"Bundler","desc":"","updated":1681660356040,"created":1676214054147,"custom":{},"fname":"computing.web.bundler","type":"note","vault":{"fsPath":".","selfContained":true,"name":"docs"},"contentHash":"c08ba43b6b5e525a220227be719dab31","links":[{"type":"wiki","from":{"fname":"computing.web.bundler","id":"ytfs18osddd01wh6njq1p2v","vaultName":"docs"},"value":"user.parcel/transformer-typescript-tsc","alias":"@parcel/transformer-typescript-tsc","position":{"start":{"line":43,"column":21,"offset":864},"end":{"line":43,"column":55,"offset":898},"indent":[]},"xvault":false,"to":{"fname":"user.parcel/transformer-typescript-tsc"}}],"anchors":{"bundler":{"type":"header","text":"Bundler","value":"bundler","line":7,"column":0,"depth":1},"tools":{"type":"header","text":"Tools","value":"tools","line":11,"column":0,"depth":2},"webpack":{"type":"header","text":"webpack","value":"webpack","line":13,"column":0,"depth":3},"parcel":{"type":"header","text":"parcel","value":"parcel","line":19,"column":0,"depth":3},"bugs-encountered":{"type":"header","text":"Bugs encountered","value":"bugs-encountered","line":33,"column":0,"depth":3},"when-building-a-library":{"type":"header","text":"When building a library","value":"when-building-a-library","line":39,"column":0,"depth":4},"export-issue":{"type":"header","text":"Export issue","value":"export-issue","line":51,"column":0,"depth":4},"import-issue":{"type":"header","text":"Import issue","value":"import-issue","line":67,"column":0,"depth":4},"dependency-reload":{"type":"header","text":"dependency reload","value":"dependency-reload","line":75,"column":0,"depth":4},"targetting-web-app--library":{"type":"header","text":"Targetting web app + library","value":"targetting-web-app--library","line":85,"column":0,"depth":4},"tsc-interop":{"type":"header","text":"tsc interop","value":"tsc-interop","line":111,"column":0,"depth":4},"rollupjs":{"type":"header","text":"rollup.js","value":"rollupjs","line":127,"column":0,"depth":3},"brunchio":{"type":"header","text":"brunch.io","value":"brunchio","line":133,"column":0,"depth":3},"gulpjs":{"type":"header","text":"gulpjs","value":"gulpjs","line":139,"column":0,"depth":3}},"children":[],"parent":"2uv1yc4tj8j2w18porl9kbw","data":{}},"body":"<h1 id=\"bundler\">Bundler<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#bundler\"></a></h1>\n<h1 id=\"bundler-1\">Bundler<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#bundler-1\"></a></h1>\n<p>Bundling is the action of packaging the code and assets of an application.</p>\n<h2 id=\"tools\">Tools<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#tools\"></a></h2>\n<h3 id=\"webpack\">webpack<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#webpack\"></a></h3>\n<p>Very used bundling tool.</p>\n<p>Review: very complicated</p>\n<h3 id=\"parcel\">parcel<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#parcel\"></a></h3>\n<p>Very used bundling tool.</p>\n<p>It is supposed to be easy to use.</p>\n<p>It is supposed to not require a configuration.</p>\n<p>It works with Typescript natively, relatively well.</p>\n<p>Url: <a href=\"https://parceljs.org/\">https://parceljs.org/</a></p>\n<p>Review: not as easy to use as declared</p>\n<h3 id=\"bugs-encountered\">Bugs encountered<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#bugs-encountered\"></a></h3>\n<p>Not all of them are Parcel responsability, some were caused by Typescript.</p>\n<p>They are not exhaustive, I've also encountered a bug where I had to put \"--no-scope-hoist\" to the command, for instance.</p>\n<h4 id=\"when-building-a-library\">When building a library<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#when-building-a-library\"></a></h4>\n<p>I've encountered the error:</p>\n<pre><code>Error: Failed to install @parcel/transformer-typescript-tsc: process.chdir() is not supported in workers\n</code></pre>\n<p>When building a library, to fix it, I've run:</p>\n<blockquote>\n<p>npm i --save-dev  <a title=\"Private\" href=\"https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html\" target=\"_blank\" class=\"private\">@parcel/transformer-typescript-tsc (Private)</a></p>\n</blockquote>\n<h4 id=\"export-issue\">Export issue<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#export-issue\"></a></h4>\n<p>I've encountered the error: </p>\n<pre><code>@parcel/core: my-path/my-class.ts does not export 'MyClass'\n</code></pre>\n<p>It was an interface, I've exported it as a type :</p>\n<pre><code>export type { MyInterface } from 'my-path/MyInterface.ts\n</code></pre>\n<p>I think it was inside an index.ts file.</p>\n<h4 id=\"import-issue\">Import issue<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#import-issue\"></a></h4>\n<pre><code>Uncaught TypeError: (0 , _myLib.MyClass) is not a constructor\n</code></pre>\n<p>I am not sure what I've done to fix this one.</p>\n<h4 id=\"dependency-reload\">dependency reload<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#dependency-reload\"></a></h4>\n<p>Be aware that it will not reload the cache if the dependency is a link.</p>\n<p>See this <a href=\"https://github.com/parcel-bundler/parcel/issues/4332\">issue</a>.</p>\n<p>I've added the argument '--no-cache':</p>\n<ul>\n<li>It still require to reload the page</li>\n<li>I think it need to restart the watch also </li>\n</ul>\n<h4 id=\"targetting-web-app--library\">Targetting web app + library<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#targetting-web-app--library\"></a></h4>\n<p>It did not work very well, on a Typescript project.</p>\n<p>You are not allowed to specify a main, module or types.</p>\n<p>I did some work and solved some issues.</p>\n<p>I was left with this error:</p>\n<pre><code>@parcel/packager-js: External modules are not supported when building for browser\n</code></pre>\n<p>Adding this solved the build issue:</p>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"engines\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"node\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\">= 16\"</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n</code></pre>\n<p>No types were exported though, and it was not importable.</p>\n<p>I stopped looking how to fix there, and made another project, and a common library.</p>\n<h4 id=\"tsc-interop\">tsc interop<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#tsc-interop\"></a></h4>\n<p>I've encoutered this error:</p>\n<pre><code>TypeError: Class constructor Command cannot be invoked without 'new'\n</code></pre>\n<p>I was working on a parcel project with tsc enabled.</p>\n<p>I tried to setup esModuleInterop in tsconfig.json, without results.</p>\n<p>This did not work either, setting \"target\": \"ES6\" in tsconfig.json.</p>\n<p>Removing <a href=\"https://parceljs.org/languages/typescript/#tsc\">https://parceljs.org/languages/typescript/#tsc</a> solved the issue.</p>\n<h3 id=\"rollupjs\">rollup.js<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#rollupjs\"></a></h3>\n<p>Url: <a href=\"https://rollupjs.org/\">https://rollupjs.org/</a></p>\n<p>Review: not tested</p>\n<h3 id=\"brunchio\">brunch.io<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#brunchio\"></a></h3>\n<p>Url: <a href=\"https://brunch.io/\">https://brunch.io/</a></p>\n<p>Review: not tested</p>\n<h3 id=\"gulpjs\">gulpjs<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#gulpjs\"></a></h3>\n<p>I'ved used it, I can't recall wether it was good or not.</p>\n<p>Url: <a href=\"https://gulpjs.com/\">https://gulpjs.com/</a></p>\n<p>Review: same as not tested</p>","noteIndex":{"id":"os9ivsua46f0vj4p0yyqhx0","title":"Root","desc":"","updated":1681658547293,"created":1676142715220,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":".","selfContained":true,"name":"docs"},"contentHash":"f2b2cb51b9be244f6389288b0e9baa6c","links":[],"anchors":{"awesome-knowledge":{"type":"header","text":"Awesome Knowledge","value":"awesome-knowledge","line":7,"column":0,"depth":1}},"children":["5vebznzkve1byblfc4hjnwb","ael2e6o55kce1nhvm90e3np"],"parent":null,"data":{},"body":"# Awesome Knowledge\n\nThis contains various knowledge on different topics.\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true,"enableSelfContainedVaults":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":".","selfContained":true,"name":"docs"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"task","dateFormat":"y.MM.dd","addBehavior":"asOwnDomain","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"taskCompleteStatus":["done","x"],"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":true,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"enableFullHierarchyNoteTitle":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"Dendron","description":"Personal Knowledge Space"},"github":{"enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"search","siteUrl":"https://isirode.github.io","assetsPrefix":"/awesome-knowledge-pages","siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true}